{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\src\\views\\login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\src\\views\\login\\Login.vue","mtime":1588956930083},{"path":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge3JlcUxvZ2lufSBmcm9tICIuLi8uLi9hcGkvbWFpbiI7CmltcG9ydCBzdG9yZVVudGlsIGZyb20gIi4uLy4uL3VudGlscy9zdG9yZVVudGlsIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJMb2dpbiIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICBmb3JtOiB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcyksCiAgICAgICAgICAgIGZvcm1JdGVtTGF5b3V0OiB7CiAgICAgICAgICAgICAgICBsYWJlbENvbDp7IHNwYW46IDggfSwKICAgICAgICAgICAgICAgIHdyYXBwZXJDb2w6eyBzcGFuOiAxNSB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICB2YWxpZGF0ZUltZzogJy9Mb2dpbi9wcm9kdWN0Q29kZScsCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICByZWZyZXNoQ29kZSAoKSB7CiAgICAgICAgICAgIGNvbnN0IG51bSA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMTApOwoKICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUltZyA9ICcvTG9naW4vcHJvZHVjdENvZGU/JyArIG51bTsKICAgICAgICB9LAogICAgICAgIGxvZ2luICgpIHsKICAgICAgICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKCBhc3luYyAoZXJyLCB2YWx1ZXMpID0+IHsKICAgICAgICAgICAgICAgIGlmIChlcnIpewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxTG9naW4odmFsdWVzKTsKCiAgICAgICAgICAgICAgICBjb25zdCB7IGNvZGUsIG1lc3NhZ2UsIG1lc3NhZ2VCb2R5IH0gPSByZXN1bHQuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKG1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgIHN0b3JlVW50aWwuc2V0SW5mbyh7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogbWVzc2FnZUJvZHkudXNlcklELAogICAgICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZTogbWVzc2FnZUJvZHkudXNlck5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJUeXBlOiBtZXNzYWdlQm9keS51c2VyVHlwZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYXV0aC9ob21lJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IobWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoQ29kZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n       <div id=\"login\">\r\n           <div class=\"login-box\">\r\n               <div class=\"right-box\">\r\n                   <h1>用户登录</h1>\r\n                   <a-form layout=\"horizontal\" :form=\"form\">\r\n                       <a-form-item  :formItemLayout=\"formItemLayout\">\r\n                           <a-input type=\"text\"\r\n                                    v-decorator=\"[\r\n                                              'user',\r\n                                              { rules: [{ required: true, message: '请输入用户名!' }] }\r\n                                            ]\"\r\n                                    placeholder=\"请输入用户名\">\r\n                               <a-icon\r\n                                       slot=\"prefix\"\r\n                                       type=\"user\"\r\n                                       style=\"color: rgba(0,0,0,.25)\"\r\n                               />\r\n                           </a-input>\r\n                       </a-form-item>\r\n                       <a-form-item  :formItemLayout=\"formItemLayout\">\r\n                           <a-input type=\"password\"\r\n                                    v-decorator=\"[\r\n                                              'pass',\r\n                                              { rules: [{ required: true, message: '请输入密码!' }] }\r\n                                            ]\"\r\n                                    placeholder=\"请输入密码\">\r\n                               <a-icon\r\n                                       slot=\"prefix\"\r\n                                       type=\"lock\"\r\n                                       style=\"color: rgba(0,0,0,.25)\"\r\n                               />\r\n                           </a-input>\r\n                       </a-form-item>\r\n                       <a-form-item  :formItemLayout=\"formItemLayout\">\r\n                           <a-input type=\"text\"\r\n                                    placeholder=\"请输入验证码\"\r\n                                    v-decorator=\"[\r\n                                              'code',\r\n                                              { rules: [{ required: true, message: '请输入验证码!' }] }\r\n                                            ]\">\r\n                               <a-icon\r\n                                       slot=\"prefix\"\r\n                                       type=\"safety-certificate\"\r\n                                       style=\"color: rgba(0,0,0,.25)\"\r\n                               />\r\n                           </a-input>\r\n                           <div id=\"verify\" @click=\"refreshCode\">\r\n                               <img :src=\"validateImg\" alt=\"验证码\" style=\"width: 100%; height: 100%;\">\r\n                           </div>\r\n                       </a-form-item>\r\n                       <a-form-item  :formItemLayout=\"formItemLayout\">\r\n                           <a-checkbox>记住此次登录信息</a-checkbox>\r\n                           <a-button type=\"primary\" htmlType=\"submit\" class=\"login-form-button\" :loading=\"loading\" @click=\"login\">\r\n                               登录\r\n                           </a-button>\r\n                       </a-form-item>\r\n                   </a-form>\r\n               </div>\r\n           </div>\r\n       </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import {reqLogin} from \"../../api/main\";\r\n    import storeUntil from \"../../untils/storeUntil\";\r\n\r\n    export default {\r\n        name: \"Login\",\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                form: this.$form.createForm(this),\r\n                formItemLayout: {\r\n                    labelCol:{ span: 8 },\r\n                    wrapperCol:{ span: 15 },\r\n                },\r\n                validateImg: '/Login/productCode',\r\n            }\r\n        },\r\n        methods: {\r\n            refreshCode () {\r\n                const num = Math.ceil(Math.random() * 10);\r\n\r\n                this.validateImg = '/Login/productCode?' + num;\r\n            },\r\n            login () {\r\n                this.form.validateFields( async (err, values) => {\r\n                    if (err){\r\n                        return false;\r\n                    }\r\n                    this.loading = true;\r\n\r\n                    const result = await reqLogin(values);\r\n\r\n                    const { code, message, messageBody } = result.data;\r\n\r\n                    if (code === 0){\r\n                        this.$message.success(message);\r\n                        storeUntil.setInfo({\r\n                            userId: messageBody.userID,\r\n                            userName: messageBody.userName,\r\n                            userType: messageBody.userType\r\n                        });\r\n                        this.$router.push('/auth/home');\r\n                    } else {\r\n                        this.$message.error(message);\r\n                        this.refreshCode();\r\n                    }\r\n                    this.loading = false;\r\n                });\r\n            }\r\n        },\r\n        mounted() {\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    #login{\r\n        background: url(\"../../public/images/bg.png\") no-repeat center center;\r\n        background-size: 100% 100%;\r\n        overflow: hidden;\r\n        overflow-x: auto;\r\n        min-width: 1400px;\r\n        .login-box{\r\n            width: 1403px;\r\n            height: 650px;\r\n            margin: 150px auto;\r\n            background: url(\"../../public/images/login.png\") no-repeat center center;\r\n            background-size: 100% 100%;\r\n            display: flex;\r\n            flex-direction: row;\r\n            justify-content: flex-end;\r\n            .right-box{\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                width: 660px;\r\n                height: 580px;\r\n                text-align: center;\r\n                .ant-form{\r\n                    width: 400px;\r\n                    text-align: left;\r\n                    padding-left: 50px;\r\n                    padding-top: 20px;\r\n                }\r\n                h1{\r\n                    color: #2882fe;\r\n                    font-weight: 500;\r\n                    padding-top: 100px;\r\n                    font-size: 30px;\r\n                }\r\n                .ant-input{\r\n                    width: 300px;\r\n                    height: 40px;\r\n                }\r\n                span{\r\n                    color:#B5B5B5;\r\n                }\r\n                .ant-btn{\r\n                    width: 300px;\r\n                    height: 40px;\r\n                    margin-top: 10px;\r\n                    span{\r\n                        font-size: 17px;\r\n                        color: white;\r\n                    }\r\n                }\r\n                .ant-form-item{\r\n                    input{\r\n                        padding-left: 40px;\r\n                    }\r\n                }\r\n                .ant-form-item:first-child{\r\n                    margin-top: 25px;\r\n                }\r\n                .ant-form-item:nth-child(2){\r\n                    margin-bottom: 25px;\r\n                }\r\n                .ant-form-item:nth-child(3){\r\n                    margin-top: 0;\r\n                    margin-bottom: 10px;\r\n                    input{\r\n                        width: 170px;\r\n                    }\r\n                }\r\n                #verify{\r\n                    width: 100px;\r\n                    height: 40px;\r\n                    position: absolute;\r\n                    right: 70px;\r\n                    top: -13px;\r\n                    cursor: pointer;\r\n                }\r\n                .register{\r\n                    span{\r\n                        color: #1C93FF;\r\n                        cursor: pointer;\r\n                        margin-left: 5px;\r\n                        &:hover{\r\n                            text-decoration: underline;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>"]}]}