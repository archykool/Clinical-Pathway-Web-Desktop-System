{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\src\\views\\login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\src\\views\\login\\Login.vue","mtime":1588956930083},{"path":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\illness-front\\illness-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL2lsbG5lc3MtZnJvbnQvaWxsbmVzcy1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlcUxvZ2luIH0gZnJvbSAiLi4vLi4vYXBpL21haW4iOwppbXBvcnQgc3RvcmVVbnRpbCBmcm9tICIuLi8uLi91bnRpbHMvc3RvcmVVbnRpbCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAogICAgICBmb3JtSXRlbUxheW91dDogewogICAgICAgIGxhYmVsQ29sOiB7CiAgICAgICAgICBzcGFuOiA4CiAgICAgICAgfSwKICAgICAgICB3cmFwcGVyQ29sOiB7CiAgICAgICAgICBzcGFuOiAxNQogICAgICAgIH0KICAgICAgfSwKICAgICAgdmFsaWRhdGVJbWc6ICcvTG9naW4vcHJvZHVjdENvZGUnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcmVmcmVzaENvZGU6IGZ1bmN0aW9uIHJlZnJlc2hDb2RlKCkgewogICAgICB2YXIgbnVtID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMCk7CiAgICAgIHRoaXMudmFsaWRhdGVJbWcgPSAnL0xvZ2luL3Byb2R1Y3RDb2RlPycgKyBudW07CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGVyciwgdmFsdWVzKSB7CiAgICAgICAgICB2YXIgcmVzdWx0LCBfcmVzdWx0JGRhdGEsIGNvZGUsIG1lc3NhZ2UsIG1lc3NhZ2VCb2R5OwoKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVxTG9naW4odmFsdWVzKTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIF9yZXN1bHQkZGF0YSA9IHJlc3VsdC5kYXRhLCBjb2RlID0gX3Jlc3VsdCRkYXRhLmNvZGUsIG1lc3NhZ2UgPSBfcmVzdWx0JGRhdGEubWVzc2FnZSwgbWVzc2FnZUJvZHkgPSBfcmVzdWx0JGRhdGEubWVzc2FnZUJvZHk7CgogICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MobWVzc2FnZSk7CgogICAgICAgICAgICAgICAgICAgIHN0b3JlVW50aWwuc2V0SW5mbyh7CiAgICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IG1lc3NhZ2VCb2R5LnVzZXJJRCwKICAgICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiBtZXNzYWdlQm9keS51c2VyTmFtZSwKICAgICAgICAgICAgICAgICAgICAgIHVzZXJUeXBlOiBtZXNzYWdlQm9keS51c2VyVHlwZQogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9hdXRoL2hvbWUnKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihtZXNzYWdlKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVmcmVzaENvZGUoKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,SAAA,QAAA,QAAA,gBAAA;AACA,OAAA,UAAA,MAAA,yBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,KAAA,KAAA,CAAA,UAAA,CAAA,IAAA,CAFA;AAGA,MAAA,cAAA,EAAA;AACA,QAAA,QAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SADA;AAEA,QAAA,UAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAFA,OAHA;AAOA,MAAA,WAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,UAAA,GAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,EAAA,CAAA;AAEA,WAAA,WAAA,GAAA,wBAAA,GAAA;AACA,KALA;AAMA,IAAA,KANA,mBAMA;AAAA;;AACA,WAAA,IAAA,CAAA,cAAA;AAAA,2EAAA,iBAAA,GAAA,EAAA,MAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,GADA;AAAA;AAAA;AAAA;;AAAA,mDAEA,KAFA;;AAAA;AAIA,kBAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AAJA;AAAA,yBAMA,QAAA,CAAA,MAAA,CANA;;AAAA;AAMA,kBAAA,MANA;AAAA,iCAQA,MAAA,CAAA,IARA,EAQA,IARA,gBAQA,IARA,EAQA,OARA,gBAQA,OARA,EAQA,WARA,gBAQA,WARA;;AAUA,sBAAA,IAAA,KAAA,CAAA,EAAA;AACA,oBAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,OAAA;;AACA,oBAAA,UAAA,CAAA,OAAA,CAAA;AACA,sBAAA,MAAA,EAAA,WAAA,CAAA,MADA;AAEA,sBAAA,QAAA,EAAA,WAAA,CAAA,QAFA;AAGA,sBAAA,QAAA,EAAA,WAAA,CAAA;AAHA,qBAAA;;AAKA,oBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,YAAA;AACA,mBARA,MAQA;AACA,oBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,OAAA;;AACA,oBAAA,KAAA,CAAA,WAAA;AACA;;AACA,kBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AAwBA;AA/BA,GAbA;AA8CA,EAAA,OA9CA,qBA8CA,CACA;AA/CA,CAAA","sourcesContent":["<template>\r\n       <div id=\"login\">\r\n           <div class=\"login-box\">\r\n               <div class=\"right-box\">\r\n                   <h1>用户登录</h1>\r\n                   <a-form layout=\"horizontal\" :form=\"form\">\r\n                       <a-form-item  :formItemLayout=\"formItemLayout\">\r\n                           <a-input type=\"text\"\r\n                                    v-decorator=\"[\r\n                                              'user',\r\n                                              { rules: [{ required: true, message: '请输入用户名!' }] }\r\n                                            ]\"\r\n                                    placeholder=\"请输入用户名\">\r\n                               <a-icon\r\n                                       slot=\"prefix\"\r\n                                       type=\"user\"\r\n                                       style=\"color: rgba(0,0,0,.25)\"\r\n                               />\r\n                           </a-input>\r\n                       </a-form-item>\r\n                       <a-form-item  :formItemLayout=\"formItemLayout\">\r\n                           <a-input type=\"password\"\r\n                                    v-decorator=\"[\r\n                                              'pass',\r\n                                              { rules: [{ required: true, message: '请输入密码!' }] }\r\n                                            ]\"\r\n                                    placeholder=\"请输入密码\">\r\n                               <a-icon\r\n                                       slot=\"prefix\"\r\n                                       type=\"lock\"\r\n                                       style=\"color: rgba(0,0,0,.25)\"\r\n                               />\r\n                           </a-input>\r\n                       </a-form-item>\r\n                       <a-form-item  :formItemLayout=\"formItemLayout\">\r\n                           <a-input type=\"text\"\r\n                                    placeholder=\"请输入验证码\"\r\n                                    v-decorator=\"[\r\n                                              'code',\r\n                                              { rules: [{ required: true, message: '请输入验证码!' }] }\r\n                                            ]\">\r\n                               <a-icon\r\n                                       slot=\"prefix\"\r\n                                       type=\"safety-certificate\"\r\n                                       style=\"color: rgba(0,0,0,.25)\"\r\n                               />\r\n                           </a-input>\r\n                           <div id=\"verify\" @click=\"refreshCode\">\r\n                               <img :src=\"validateImg\" alt=\"验证码\" style=\"width: 100%; height: 100%;\">\r\n                           </div>\r\n                       </a-form-item>\r\n                       <a-form-item  :formItemLayout=\"formItemLayout\">\r\n                           <a-checkbox>记住此次登录信息</a-checkbox>\r\n                           <a-button type=\"primary\" htmlType=\"submit\" class=\"login-form-button\" :loading=\"loading\" @click=\"login\">\r\n                               登录\r\n                           </a-button>\r\n                       </a-form-item>\r\n                   </a-form>\r\n               </div>\r\n           </div>\r\n       </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import {reqLogin} from \"../../api/main\";\r\n    import storeUntil from \"../../untils/storeUntil\";\r\n\r\n    export default {\r\n        name: \"Login\",\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                form: this.$form.createForm(this),\r\n                formItemLayout: {\r\n                    labelCol:{ span: 8 },\r\n                    wrapperCol:{ span: 15 },\r\n                },\r\n                validateImg: '/Login/productCode',\r\n            }\r\n        },\r\n        methods: {\r\n            refreshCode () {\r\n                const num = Math.ceil(Math.random() * 10);\r\n\r\n                this.validateImg = '/Login/productCode?' + num;\r\n            },\r\n            login () {\r\n                this.form.validateFields( async (err, values) => {\r\n                    if (err){\r\n                        return false;\r\n                    }\r\n                    this.loading = true;\r\n\r\n                    const result = await reqLogin(values);\r\n\r\n                    const { code, message, messageBody } = result.data;\r\n\r\n                    if (code === 0){\r\n                        this.$message.success(message);\r\n                        storeUntil.setInfo({\r\n                            userId: messageBody.userID,\r\n                            userName: messageBody.userName,\r\n                            userType: messageBody.userType\r\n                        });\r\n                        this.$router.push('/auth/home');\r\n                    } else {\r\n                        this.$message.error(message);\r\n                        this.refreshCode();\r\n                    }\r\n                    this.loading = false;\r\n                });\r\n            }\r\n        },\r\n        mounted() {\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    #login{\r\n        background: url(\"../../public/images/bg.png\") no-repeat center center;\r\n        background-size: 100% 100%;\r\n        overflow: hidden;\r\n        overflow-x: auto;\r\n        min-width: 1400px;\r\n        .login-box{\r\n            width: 1403px;\r\n            height: 650px;\r\n            margin: 150px auto;\r\n            background: url(\"../../public/images/login.png\") no-repeat center center;\r\n            background-size: 100% 100%;\r\n            display: flex;\r\n            flex-direction: row;\r\n            justify-content: flex-end;\r\n            .right-box{\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                width: 660px;\r\n                height: 580px;\r\n                text-align: center;\r\n                .ant-form{\r\n                    width: 400px;\r\n                    text-align: left;\r\n                    padding-left: 50px;\r\n                    padding-top: 20px;\r\n                }\r\n                h1{\r\n                    color: #2882fe;\r\n                    font-weight: 500;\r\n                    padding-top: 100px;\r\n                    font-size: 30px;\r\n                }\r\n                .ant-input{\r\n                    width: 300px;\r\n                    height: 40px;\r\n                }\r\n                span{\r\n                    color:#B5B5B5;\r\n                }\r\n                .ant-btn{\r\n                    width: 300px;\r\n                    height: 40px;\r\n                    margin-top: 10px;\r\n                    span{\r\n                        font-size: 17px;\r\n                        color: white;\r\n                    }\r\n                }\r\n                .ant-form-item{\r\n                    input{\r\n                        padding-left: 40px;\r\n                    }\r\n                }\r\n                .ant-form-item:first-child{\r\n                    margin-top: 25px;\r\n                }\r\n                .ant-form-item:nth-child(2){\r\n                    margin-bottom: 25px;\r\n                }\r\n                .ant-form-item:nth-child(3){\r\n                    margin-top: 0;\r\n                    margin-bottom: 10px;\r\n                    input{\r\n                        width: 170px;\r\n                    }\r\n                }\r\n                #verify{\r\n                    width: 100px;\r\n                    height: 40px;\r\n                    position: absolute;\r\n                    right: 70px;\r\n                    top: -13px;\r\n                    cursor: pointer;\r\n                }\r\n                .register{\r\n                    span{\r\n                        color: #1C93FF;\r\n                        cursor: pointer;\r\n                        margin-left: 5px;\r\n                        &:hover{\r\n                            text-decoration: underline;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>"],"sourceRoot":"src/views/login"}]}